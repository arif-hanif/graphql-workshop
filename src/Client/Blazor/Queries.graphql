query getPeople($userId: Uuid!) {
  people(where: { id_not: $userId }) {
    nodes {
      ...person
    }
  }
}

query loadChat($recipientId: Uuid!) {
  personById(id: $recipientId) {
    ...recipient
  }
}

mutation signin($signIn: LoginInput!) {
  login(input: $signIn) {
    me {
      ...person
    }
    scheme
    token
  }
}

mutation signup($newUser: CreateUserInput!) {
  createUser(input: $newUser) {
    user {
      email
    }
  }
}

fragment message on Message {
  direction
  id
  recipient {
    ...participant
  }
  sender {
    ...participant
  }
  sent
  text
}

fragment participant on Person {
  id
  name
  isOnline
}

fragment person on Person {
  id
  name
  email
  imageUri
  isOnline
  lastSeen
}

fragment recipient on Person {
  ...person
  messages {
    nodes {
      ...message
    }
  }
}
