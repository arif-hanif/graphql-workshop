@inject IChatClient ChatClient

@if (signin?.Data?.Login?.Me == null)
{
  if (showSignUpForm)
  {
    <SignUpForm />
  }
  else
  {
    <SignInForm HandleSignin="@(async (model) => { await OnHandleSignIn(model); })" />
  }
}
else
{
  <Main User="@signin?.Data?.Login?.Me" />
}

@code {
    private bool showSignUpForm;
    private IOperationResult<ISignin>? signin;

    private async Task OnHandleSignIn(SignInModel model)
    {
        Console.WriteLine(model.Email);

        signin = await ChatClient.SigninAsync(new LoginInput
        {
            Email = model.Email,
            Password = model.Password
        });
    }
}