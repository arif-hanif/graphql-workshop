@inject IChatClient ChatClient

<div class="people">
  <div class="people-filter">
    <input class="people-filter-input" type="text" placeholder="search" />
    <span class="people-filter-icon fa fa-search"></span>
  </div>
  <ul class="people-list">
    @if (@isLoading)
    {
      <PersonPlaceholder />
      <PersonPlaceholder />
      <PersonPlaceholder />
    }
    else if (operation?.Data?.People?.Nodes != null)
    {
      @foreach (var person in operation.Data.People.Nodes)
      {
        <Person
          @key="person.Id"
          User="person"
        />
      }
    }
  </ul>
</div>

@code {
    private bool isLoading = true;
    private IOperationResult<IPeople>? operation;

    protected override async Task OnInitializedAsync()
    {
        operation = await ChatClient.PeopleAsync();
        isLoading = false;
        StateHasChanged();
    }
}
