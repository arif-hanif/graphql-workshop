@inject IChatClient ChatClient

<PeopleList
  IsLoading="@_isLoadingPeople"
  People="@_people"
/>
<MessageList
  IsLoading="@_isLoadingRecipient"
  Recipient="@_recipient"
/>

@code {
    private bool _isLoadingPeople = true;
    private bool _isLoadingRecipient = false;
    private IPersonConnection? _people;
    private IRecipient? _recipient;

    [Parameter]
    public EventCallback ClickSignOut { get; set; }

    [Parameter]
    public IPerson User { get; set; } = default(IPerson);

    protected override async Task OnInitializedAsync()
    {
        var people = await ChatClient.GetPeopleAsync();//User.Id);

        if (people.HasErrors)
        {
            // todo: error handling
        }
        else
        {
            _people = people.Data.People;
        }

        _isLoadingPeople = false;
        StateHasChanged();
    }
}