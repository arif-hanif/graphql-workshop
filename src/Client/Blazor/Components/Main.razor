@inject IChatClient ChatClient

<PeopleList
  IsLoading="@isLoadingPeople"
  People="@people?.Data?.People"
/>
<MessageList
  IsLoading="@isLoadingChat"
  Recipient="@chat?.Data?.PersonById"
/>

@code {
    private bool isLoadingPeople = true;
    private IOperationResult<IGetPeople>? people;
    private bool isLoadingChat = false;
    private IOperationResult<ILoadChat>? chat;

    [Parameter]
    public IPerson User { get; set; }

    protected override async Task OnInitializedAsync()
    {
        people = await ChatClient.GetPeopleAsync(User.Id);
        isLoadingPeople = false;
        StateHasChanged();
    }
}