@inject IChatClient ChatClient

<PeopleList
  IsLoading="@isLoadingInitialData"
  People="@initialData?.Data?.People"
/>
<MessageList
  IsLoading="@isLoadingChat"
  Messages="@chat?.Data?.Me?.Messages"
  User="null"
/>

@code {
    private bool isLoadingInitialData = true;
    private IOperationResult<IInitialData>? initialData;
    private bool isLoadingChat = false;
    private IOperationResult<IChat>? chat;

    [Parameter]
    public IPerson User { get; set; }

    protected override async Task OnInitializedAsync()
    {
        initialData = await ChatClient.InitialDataAsync(User.Id);
        isLoadingInitialData = false;
        StateHasChanged();
    }
}